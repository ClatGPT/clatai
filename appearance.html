<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Appearance - CLAT.GPT.1</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary-color: #3b82f6;
        --primary-dark: #2563eb;
        --accent-color: #10b981;
        --accent-dark: #059669;
        --danger-color: #ef4444;
        --danger-dark: #dc2626;
        --warning-color: #f59e0b;
        --warning-dark: #d97706;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: #f1f5f9;
        height: 100vh;
        overflow: hidden;
        transition: all 0.3s ease;
    }

    body.dark {
        background: #0f172a;
        color: #f1f5f9;
    }

    .container {
        display: flex;
        width: 100vw;
        height: 100vh;
        background: white;
        transition: all 0.3s ease;
    }

    .container.dark {
        background: #1e293b;
    }

    .sidebar {
        width: 280px;
        background: #1e293b;
        color: white;
        padding: 24px 0;
        display: flex;
        flex-direction: column;
        overflow-y: auto;
        transition: all 0.3s ease;
        position: relative;
    }

    .sidebar.collapsed {
        width: 60px;
        padding: 24px 0;
    }

    .hamburger-menu {
        position: absolute;
        top: 20px;
        right: 15px;
        width: 30px;
        height: 30px;
        background: none;
        border: none;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 10;
        transition: all 0.3s ease;
    }

    .hamburger-line {
        width: 20px;
        height: 2px;
        background: white;
        margin: 2px 0;
        transition: all 0.3s ease;
        border-radius: 2px;
    }

    .logo {
        padding: 0 24px 24px;
        font-size: 20px;
        font-weight: 700;
        color: white;
        border-bottom: 1px solid #334155;
        margin-bottom: 24px;
        transition: all 0.3s ease;
        white-space: nowrap;
        overflow: hidden;
        opacity: 1;
    }

    .sidebar.collapsed .logo {
        opacity: 0;
        height: 0;
        padding: 0;
        margin: 0;
        border: none;
    }

    .exam-timer {
        padding: 0 24px;
        margin-bottom: 16px;
        transition: all 0.3s ease;
        opacity: 1;
    }

    .sidebar.collapsed .exam-timer {
        opacity: 0;
        height: 0;
        padding: 0;
        margin: 0;
    }

    .timer-display {
        background: linear-gradient(135deg, var(--danger-color) 0%, var(--danger-dark) 100%);
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        text-align: center;
        font-weight: 600;
        font-size: 14px;
        animation: pulse 2s infinite;
    }

    .timer-display.warning {
        animation: fastPulse 1s infinite;
    }

    .timer-display.expired {
        background: linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%);
        animation: none;
    }

    .timer-label {
        font-size: 12px;
        opacity: 0.8;
        margin-bottom: 4px;
    }

    .timer-time {
        font-size: 16px;
        font-weight: 700;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }

    @keyframes fastPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .nav-item {
        display: flex;
        align-items: center;
        padding: 16px 24px;
        color: #94a3b8;
        text-decoration: none;
        transition: all 0.2s;
        cursor: pointer;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
        font-size: 15px;
        white-space: nowrap;
        overflow: hidden;
        position: relative;
        opacity: 1;
    }

    .sidebar.collapsed .nav-item {
        opacity: 0;
        height: 0;
        padding: 0;
        margin: 0;
        pointer-events: none;
    }

    .nav-item:hover {
        background: #334155;
        color: white;
    }

    .nav-item.active {
        background: var(--primary-color);
        color: white;
    }

    .nav-item::before {
        content: '';
        width: 20px;
        height: 20px;
        margin-right: 12px;
        display: inline-block;
        flex-shrink: 0;
    }

    .nav-item.home::before { content: 'üè†'; }
    .nav-item.practice::before { content: 'üìö'; }
    .nav-item.research::before { content: 'üîç'; }
    .nav-item.mentor::before { content: 'ü§ñ'; }
    .nav-item.chatbot::before { content: 'üí¨'; }
    .nav-item.tests::before { content: 'üìù'; }
    .nav-item.progress::before { content: 'üìä'; }
    .nav-item.settings::before { content: '‚öôÔ∏è'; }
    .nav-item.appearance::before { content: 'üé®'; }

    .sidebar-bottom {
        margin-top: auto;
        border-top: 1px solid #334155;
        padding-top: 24px;
        transition: all 0.3s ease;
    }

    .sidebar.collapsed .sidebar-bottom {
        opacity: 0;
        height: 0;
        padding: 0;
        margin: 0;
        border: none;
    }

    .main-content {
        flex: 1;
        padding: 40px;
        background: white;
        overflow-y: auto;
        transition: all 0.3s ease;
    }

    .main-content.dark {
        background: #0f172a;
        color: #f1f5f9;
    }

    .header {
        margin-bottom: 40px;
        animation: slideInFromTop 0.6s ease-out;
    }

    .greeting {
        font-size: 36px;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 8px;
        transition: color 0.3s ease;
    }

    .greeting.dark {
        color: #f1f5f9;
    }

    .page-subtitle {
        font-size: 18px;
        color: #64748b;
        margin-bottom: 40px;
        transition: color 0.3s ease;
    }

    .page-subtitle.dark {
        color: #94a3b8;
    }

    .appearance-container {
        max-width: 900px;
        margin: 0 auto;
        animation: fadeIn 0.8s ease-out;
    }

    .appearance-section {
        background: #f8fafc;
        border-radius: 16px;
        padding: 32px;
        border: 1px solid #e2e8f0;
        margin-bottom: 24px;
        transition: all 0.3s ease;
    }

    .appearance-section.dark {
        background: #1e293b;
        border-color: #334155;
    }

    .section-title {
        font-size: 24px;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 12px;
        transition: color 0.3s ease;
    }

    .section-title.dark {
        color: #f1f5f9;
    }

    .section-description {
        font-size: 16px;
        color: #64748b;
        margin-bottom: 24px;
        transition: color 0.3s ease;
    }

    .section-description.dark {
        color: #94a3b8;
    }

    .theme-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
    }

    .theme-card {
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
        position: relative;
        overflow: hidden;
    }

    .theme-card.dark {
        background: #0f172a;
        border-color: #334155;
    }

    .theme-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .theme-card.active {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .theme-preview {
        width: 100%;
        height: 80px;
        border-radius: 8px;
        margin-bottom: 12px;
        position: relative;
        overflow: hidden;
    }

    .theme-preview.light {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    }

    .theme-preview.dark {
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    }

    .theme-preview.auto {
        background: linear-gradient(135deg, #f8fafc 0%, #0f172a 100%);
    }

    .theme-name {
        font-weight: 600;
        font-size: 16px;
        margin-bottom: 4px;
        transition: color 0.3s ease;
    }

    .theme-description {
        font-size: 14px;
        color: #64748b;
        transition: color 0.3s ease;
    }

    .theme-description.dark {
        color: #94a3b8;
    }

    .color-picker-section {
        margin-top: 32px;
    }

    .color-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 24px;
        margin-top: 24px;
    }

    .color-group {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 20px;
        transition: all 0.3s ease;
    }

    .color-group.dark {
        background: #1e293b;
        border-color: #334155;
    }

    .color-label {
        font-weight: 600;
        font-size: 16px;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: color 0.3s ease;
    }

    .color-label.dark {
        color: #f1f5f9;
    }

    .color-picker-wrapper {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
    }

    .color-picker {
        width: 60px;
        height: 40px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        background: none;
        padding: 0;
    }

    .color-picker:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .color-input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        font-family: monospace;
        font-size: 14px;
        transition: all 0.2s ease;
    }

    .color-input.dark {
        background: #0f172a;
        border-color: #334155;
        color: #f1f5f9;
    }

    .color-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .color-preview {
        display: flex;
        gap: 8px;
        margin-top: 8px;
    }

    .color-sample {
        width: 30px;
        height: 30px;
        border-radius: 6px;
        border: 1px solid #e2e8f0;
        transition: all 0.2s ease;
    }

    .color-sample:hover {
        transform: scale(1.1);
    }

    .action-button {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        margin-right: 12px;
        margin-bottom: 12px;
    }

    .action-button.primary {
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
        color: white;
    }

    .action-button.primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
    }

    .action-button.secondary {
        background: #f1f5f9;
        color: #64748b;
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
    }

    .action-button.secondary.dark {
        background: #1e293b;
        color: #94a3b8;
        border-color: #334155;
    }

    .action-button.secondary:hover {
        background: #e2e8f0;
        color: #374151;
    }

    .action-button.secondary.dark:hover {
        background: #334155;
        color: #f1f5f9;
    }

    .success-message {
        background: #dcfce7;
        border: 1px solid #10b981;
        border-radius: 8px;
        padding: 16px;
        margin-top: 16px;
        color: #059669;
        font-weight: 600;
        text-align: center;
        display: none;
        animation: slideInFromBottom 0.5s ease-out;
    }

    .success-message.show {
        display: block;
    }

    .preset-colors {
        display: flex;
        gap: 8px;
        margin-top: 12px;
        flex-wrap: wrap;
    }

    .preset-color {
        width: 32px;
        height: 32px;
        border-radius: 6px;
        border: 2px solid transparent;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .preset-color:hover {
        transform: scale(1.1);
        border-color: #ffffff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    /* Animations */
    @keyframes slideInFromTop {
        from {
            opacity: 0;
            transform: translateY(-30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @keyframes slideInFromBottom {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .container {
            flex-direction: column;
        }
        
        .sidebar {
            width: 100%;
            height: auto;
            order: 2;
        }

        .sidebar.collapsed {
            width: 100%;
            height: 60px;
        }

        .main-content {
            order: 1;
            padding: 20px;
        }

        .appearance-container {
            max-width: 100%;
        }

        .appearance-section {
            padding: 24px;
        }

        .theme-options {
            grid-template-columns: 1fr;
        }

        .color-grid {
            grid-template-columns: 1fr;
        }

        .action-button {
            width: 100%;
            margin-right: 0;
        }
    }
</style>
</head>
<body>
<div class="container">
    <nav class="sidebar" id="sidebar">
        <button class="hamburger-menu" id="hamburgerMenu" onclick="toggleSidebar()">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </button>
        
        <div class="logo">CLAT.GPT.1</div>
        
        <!-- Exam Timer Display -->
        <div class="exam-timer" id="examTimerDisplay" style="display: none;">
            <div class="timer-display" id="timerDisplay">
                <div class="timer-label">Exam Countdown</div>
                <div class="timer-time" id="timerTime">0d 00h 00m</div>
            </div>
        </div>
        
        <button class="nav-item home" onclick="navigateTo('home')">
            <span class="nav-text">Home</span>
        </button>
        <button class="nav-item practice" onclick="navigateTo('practice-online')">
            <span class="nav-text">Practice Online</span>
        </button>
        <button class="nav-item research" onclick="navigateTo('gk-research')">
            <span class="nav-text">GK Research Engine</span>
        </button>
        <button class="nav-item mentor" onclick="navigateTo('qt-mentor')">
            <span class="nav-text">QT AI Mentor</span>
        </button>
        <button class="nav-item chatbot" onclick="navigateTo('lexa-chatbot')">
            <span class="nav-text">Lexa Chatbot</span>
        </button>
        <button class="nav-item tests" onclick="navigateTo('generate-tests')">
            <span class="nav-text">Generate Tests</span>
        </button>
        <button class="nav-item progress" onclick="navigateTo('progress')">
            <span class="nav-text">Progress Tracker</span>
        </button>
        
        <div class="sidebar-bottom">
            <button class="nav-item settings" onclick="navigateTo('settings')">
                <span class="nav-text">Settings</span>
            </button>
            <button class="nav-item appearance active" onclick="navigateTo('appearance')">
                <span class="nav-text">Appearance</span>
            </button>

        </div>
    </nav>

    <main class="main-content">
        <header class="header">
            <h1 class="greeting">Appearance üé®</h1>
            <p class="page-subtitle">Customize the look and feel of your CLAT.GPT.1 experience</p>
        </header>

        <div class="appearance-container">
            <!-- Theme Settings -->
            <div class="appearance-section">
                <h2 class="section-title">
                    üåì Theme Settings
                </h2>
                <p class="section-description">Choose your preferred theme for the application</p>
                
                <div class="theme-options">
                    <div class="theme-card" data-theme="light" onclick="selectTheme('light')">
                        <div class="theme-preview light"></div>
                        <div class="theme-name">Light Theme</div>
                        <div class="theme-description">Clean and bright interface</div>
                    </div>
                    
                    <div class="theme-card" data-theme="dark" onclick="selectTheme('dark')">
                        <div class="theme-preview dark"></div>
                        <div class="theme-name">Dark Theme</div>
                        <div class="theme-description">Easy on the eyes for long study sessions</div>
                    </div>
                    
                    <div class="theme-card" data-theme="auto" onclick="selectTheme('auto')">
                        <div class="theme-preview auto"></div>
                        <div class="theme-name">Auto Theme</div>
                        <div class="theme-description">Follows your system preference</div>
                    </div>
                </div>
                
                <div class="success-message" id="themeSuccessMessage">
                    ‚úÖ Theme updated successfully!
                </div>
            </div>

            <!-- Color Customization -->
            <div class="appearance-section">
                <h2 class="section-title">
                    üé® Color Customization
                </h2>
                <p class="section-description">Customize the accent colors used throughout the application</p>
                
                <div class="color-grid">
                    <!-- Primary Color -->
                    <div class="color-group">
                        <div class="color-label">
                            üîµ Primary Color
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" class="color-picker" id="primaryColorPicker" value="#3b82f6" onchange="updateColor('primary', this.value)">
                            <input type="text" class="color-input" id="primaryColorInput" value="#3b82f6" onchange="updateColorFromInput('primary', this.value)" placeholder="#3b82f6">
                        </div>
                        <div class="color-preview">
                            <div class="color-sample" id="primarySample" style="background: #3b82f6;"></div>
                            <div class="color-sample" id="primaryDarkSample" style="background: #2563eb;"></div>
                        </div>
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #3b82f6;" onclick="setPresetColor('primary', '#3b82f6')"></div>
                            <div class="preset-color" style="background: #8b5cf6;" onclick="setPresetColor('primary', '#8b5cf6')"></div>
                            <div class="preset-color" style="background: #06b6d4;" onclick="setPresetColor('primary', '#06b6d4')"></div>
                            <div class="preset-color" style="background: #10b981;" onclick="setPresetColor('primary', '#10b981')"></div>
                            <div class="preset-color" style="background: #f59e0b;" onclick="setPresetColor('primary', '#f59e0b')"></div>
                            <div class="preset-color" style="background: #ef4444;" onclick="setPresetColor('primary', '#ef4444')"></div>
                        </div>
                    </div>

                    <!-- Accent Color -->
                    <div class="color-group">
                        <div class="color-label">
                            üü¢ Accent Color
                        </div>
                        <div class="color-picker-wrapper">
                            <input type="color" class="color-picker" id="accentColorPicker" value="#10b981" onchange="updateColor('accent', this.value)">
                            <input type="text" class="color-input" id="accentColorInput" value="#10b981" onchange="updateColorFromInput('accent', this.value)" placeholder="#10b981">
                        </div>
                        <div class="color-preview">
                            <div class="color-sample" id="accentSample" style="background: #10b981;"></div>
                            <div class="color-sample" id="accentDarkSample" style="background: #059669;"></div>
                        </div>
                        <div class="preset-colors">
                            <div class="preset-color" style="background: #10b981;" onclick="setPresetColor('accent', '#10b981')"></div>
                            <div class="preset-color" style="background: #06b6d4;" onclick="setPresetColor('accent', '#06b6d4')"></div>
                            <div class="preset-color" style="background: #8b5cf6;" onclick="setPresetColor('accent', '#8b5cf6')"></div>
                            <div class="preset-color" style="background: #f59e0b;" onclick="setPresetColor('accent', '#f59e0b')"></div>
                            <div class="preset-color" style="background: #ec4899;" onclick="setPresetColor('accent', '#ec4899')"></div>
                            <div class="preset-color" style="background: #84cc16;" onclick="setPresetColor('accent', '#84cc16')"></div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 32px;">
                    <button class="action-button primary" onclick="applyColors()">Apply Colors</button>
                    <button class="action-button secondary" onclick="resetColors()">Reset to Default</button>
                </div>
                
                <div class="success-message" id="colorSuccessMessage">
                    üé® Colors updated successfully!
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    let currentTheme = 'light';
    let currentColors = {
        primary: '#3b82f6',
        primaryDark: '#2563eb',
        accent: '#10b981',
        accentDark: '#059669'
    };

    // Theme Functions
    function selectTheme(theme) {
        currentTheme = theme;
        
        // Update active theme card
        document.querySelectorAll('.theme-card').forEach(card => {
            card.classList.remove('active');
        });
        document.querySelector(`[data-theme="${theme}"]`).classList.add('active');
        
        // Apply theme
        applyTheme(theme);
        
        // Save to localStorage
        localStorage.setItem('theme', theme);
        
        // Show success message
        showThemeSuccess();
    }

    function applyTheme(theme) {
        const body = document.body;
        const container = document.querySelector('.container');
        const mainContent = document.querySelector('.main-content');
        const greeting = document.querySelector('.greeting');
        const subtitle = document.querySelector('.page-subtitle');
        const sections = document.querySelectorAll('.appearance-section');
        const titles = document.querySelectorAll('.section-title');
        const descriptions = document.querySelectorAll('.section-description');
        const colorGroups = document.querySelectorAll('.color-group');
        const colorLabels = document.querySelectorAll('.color-label');
        const colorInputs = document.querySelectorAll('.color-input');
        const themeCards = document.querySelectorAll('.theme-card');
        const themeDescriptions = document.querySelectorAll('.theme-description');
        const secondaryButtons = document.querySelectorAll('.action-button.secondary');

        if (theme === 'dark' || (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            // Apply dark theme
            body.classList.add('dark');
            container.classList.add('dark');
            mainContent.classList.add('dark');
            greeting.classList.add('dark');
            subtitle.classList.add('dark');
            
            sections.forEach(section => section.classList.add('dark'));
            titles.forEach(title => title.classList.add('dark'));
            descriptions.forEach(desc => desc.classList.add('dark'));
            colorGroups.forEach(group => group.classList.add('dark'));
            colorLabels.forEach(label => label.classList.add('dark'));
            colorInputs.forEach(input => input.classList.add('dark'));
            themeCards.forEach(card => card.classList.add('dark'));
            themeDescriptions.forEach(desc => desc.classList.add('dark'));
            secondaryButtons.forEach(btn => btn.classList.add('dark'));
        } else {
            // Apply light theme
            body.classList.remove('dark');
            container.classList.remove('dark');
            mainContent.classList.remove('dark');
            greeting.classList.remove('dark');
            subtitle.classList.remove('dark');
            
            sections.forEach(section => section.classList.remove('dark'));
            titles.forEach(title => title.classList.remove('dark'));
            descriptions.forEach(desc => desc.classList.remove('dark'));
            colorGroups.forEach(group => group.classList.remove('dark'));
            colorLabels.forEach(label => label.classList.remove('dark'));
            colorInputs.forEach(input => input.classList.remove('dark'));
            themeCards.forEach(card => card.classList.remove('dark'));
            themeDescriptions.forEach(desc => desc.classList.remove('dark'));
            secondaryButtons.forEach(btn => btn.classList.remove('dark'));
        }
    }

    // Color Functions
    function updateColor(type, color) {
        const darkColor = darkenColor(color, 20);
        
        if (type === 'primary') {
            currentColors.primary = color;
            currentColors.primaryDark = darkColor;
            document.getElementById('primaryColorInput').value = color;
            document.getElementById('primarySample').style.background = color;
            document.getElementById('primaryDarkSample').style.background = darkColor;
        } else if (type === 'accent') {
            currentColors.accent = color;
            currentColors.accentDark = darkColor;
            document.getElementById('accentColorInput').value = color;
            document.getElementById('accentSample').style.background = color;
            document.getElementById('accentDarkSample').style.background = darkColor;
        }
        
        // Update CSS variables immediately for preview
        updateCSSVariables();
    }

    function updateColorFromInput(type, color) {
        if (isValidHexColor(color)) {
            if (type === 'primary') {
                document.getElementById('primaryColorPicker').value = color;
            } else if (type === 'accent') {
                document.getElementById('accentColorPicker').value = color;
            }
            updateColor(type, color);
        }
    }

    function setPresetColor(type, color) {
        if (type === 'primary') {
            document.getElementById('primaryColorPicker').value = color;
        } else if (type === 'accent') {
            document.getElementById('accentColorPicker').value = color;
        }
        updateColor(type, color);
    }

    function applyColors() {
        // Save colors to localStorage
        localStorage.setItem('customColors', JSON.stringify(currentColors));
        
        // Update CSS variables
        updateCSSVariables();
        
        // Show success message
        showColorSuccess();
    }

    function resetColors() {
        // Reset to default colors
        currentColors = {
            primary: '#3b82f6',
            primaryDark: '#2563eb',
            accent: '#10b981',
            accentDark: '#059669'
        };
        
        // Update UI
        document.getElementById('primaryColorPicker').value = currentColors.primary;
        document.getElementById('primaryColorInput').value = currentColors.primary;
        document.getElementById('accentColorPicker').value = currentColors.accent;
        document.getElementById('accentColorInput').value = currentColors.accent;
        
        // Update samples
        document.getElementById('primarySample').style.background = currentColors.primary;
        document.getElementById('primaryDarkSample').style.background = currentColors.primaryDark;
        document.getElementById('accentSample').style.background = currentColors.accent;
        document.getElementById('accentDarkSample').style.background = currentColors.accentDark;
        
        // Remove from localStorage
        localStorage.removeItem('customColors');
        
        // Update CSS variables
        updateCSSVariables();
        
        // Show success message
        showColorSuccess();
    }

    function updateCSSVariables() {
        const root = document.documentElement;
        root.style.setProperty('--primary-color', currentColors.primary);
        root.style.setProperty('--primary-dark', currentColors.primaryDark);
        root.style.setProperty('--accent-color', currentColors.accent);
        root.style.setProperty('--accent-dark', currentColors.accentDark);
    }

    // Utility Functions
    function darkenColor(color, percent) {
        const num = parseInt(color.replace("#", ""), 16);
        const amt = Math.round(2.55 * percent);
        const R = (num >> 16) - amt;
        const G = (num >> 8 & 0x00FF) - amt;
        const B = (num & 0x0000FF) - amt;
        return "#" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
            (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
            (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
    }

    function isValidHexColor(color) {
        return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(color);
    }

    function showThemeSuccess() {
        const successMessage = document.getElementById('themeSuccessMessage');
        successMessage.classList.add('show');
        setTimeout(() => {
            successMessage.classList.remove('show');
        }, 3000);
    }

    function showColorSuccess() {
        const successMessage = document.getElementById('colorSuccessMessage');
        successMessage.classList.add('show');
        setTimeout(() => {
            successMessage.classList.remove('show');
        }, 3000);
    }

    // Exam Timer Functions
    let examTimer = null;

    function startExamCountdown() {
        const examDateTime = localStorage.getItem('examDateTime');
        if (!examDateTime) return;
        
        const examDate = new Date(parseInt(examDateTime));
        
        // Show timer display
        document.getElementById('examTimerDisplay').style.display = 'block';
        
        // Update immediately first
        updateCountdownDisplay(examDate);
        
        examTimer = setInterval(() => {
            updateCountdownDisplay(examDate);
        }, 60000); // Update every minute
    }

    function updateCountdownDisplay(examDate) {
        const now = new Date().getTime();
        const timeLeft = examDate.getTime() - now;
        
        if (timeLeft <= 0) {
            // Exam date reached
            clearInterval(examTimer);
            examTimer = null;
            document.getElementById('timerTime').textContent = 'EXAM DAY!';
            document.getElementById('timerDisplay').classList.add('expired');
            
            // Show alert
            alert('üéØ Today is your CLAT exam day! Good luck!');
            
            return;
        }
        
        // Calculate time components
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        
        // Format and display
        const timeString = `${days}d ${hours.toString().padStart(2, '0')}h ${minutes.toString().padStart(2, '0')}m`;
        document.getElementById('timerTime').textContent = timeString;
        
        // Add warning class if less than 7 days
        const timerDisplay = document.getElementById('timerDisplay');
        if (days < 7) {
            timerDisplay.classList.add('warning');
        } else {
            timerDisplay.classList.remove('warning');
        }
    }

    function restoreExamTimer() {
        const savedExamDateTime = localStorage.getItem('examDateTime');
        
        if (savedExamDateTime) {
            const examDate = new Date(parseInt(savedExamDateTime));
            const now = new Date();
            
            if (examDate > now) {
                startExamCountdown();
            } else {
                // Exam date has passed
                localStorage.removeItem('examDateTime');
            }
        }
    }

    // Sidebar toggle functionality
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('collapsed');
    }

    // Navigation function
    function navigateTo(page) {
        const pages = {
            'home': '2.homepage.html',
            'practice-online': 'practice-online.html',
            'gk-research': 'gk-research.html',
            'qt-mentor': 'qt-mentor.html',
            'lexa-chatbot': 'lexa-chatbot.html',
            'generate-tests': 'generate-tests.html',
            'progress': 'progress.html',
            'settings': 'settings.html',
            'appearance': 'appearance.html',
        };

        if (pages[page]) {
            window.location.href = pages[page];
        }
    }

    // Initialize page
    function initializePage() {
        // Restore theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        currentTheme = savedTheme;
        document.querySelector(`[data-theme="${savedTheme}"]`).classList.add('active');
        applyTheme(savedTheme);
        
        // Restore colors
        const savedColors = localStorage.getItem('customColors');
        if (savedColors) {
            currentColors = JSON.parse(savedColors);
            
            // Update UI
            document.getElementById('primaryColorPicker').value = currentColors.primary;
            document.getElementById('primaryColorInput').value = currentColors.primary;
            document.getElementById('accentColorPicker').value = currentColors.accent;
            document.getElementById('accentColorInput').value = currentColors.accent;
            
            // Update samples
            document.getElementById('primarySample').style.background = currentColors.primary;
            document.getElementById('primaryDarkSample').style.background = currentColors.primaryDark;
            document.getElementById('accentSample').style.background = currentColors.accent;
            document.getElementById('accentDarkSample').style.background = currentColors.accentDark;
            
            // Update CSS variables
            updateCSSVariables();
        }
        
        // Restore exam timer
        restoreExamTimer();
    }

    // Listen for system theme changes
    if (window.matchMedia) {
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
            if (currentTheme === 'auto') {  
                applyTheme('auto');
            }
        });
    }

    // Initialize page on load
    window.addEventListener('load', initializePage);
</script>
</body>
</html>